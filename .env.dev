# V2 POC Development Environment Configuration
# This file contains development-specific configurations for app-dev container

# ====================================
# AI SERVICE CONFIGURATION
# ====================================

# OpenRouter API Configuration
OPENROUTER_API_KEY=your-openrouter-api-key-here
OPENROUTER_BASE_URL=https://openrouter.ai/api/v1
DEFAULT_MODEL=openai/gpt-4

# Alternative AI Provider (Optional)
# AZURE_OPENAI_ENDPOINT=https://your-dev-endpoint.openai.azure.com/
# AZURE_OPENAI_API_KEY=your-azure-dev-api-key
# AZURE_OPENAI_DEPLOYMENT_NAME=gpt-4

# ====================================
# DATABASE CONFIGURATION (SHARED INSTANCES)
# ====================================

# PostgreSQL Configuration - Connected to single shared instance
POSTGRES_USER=pocuser
POSTGRES_PASSWORD=pocpass
POSTGRES_DB=poc_db
# Internal Docker network connection for app-dev container
DATABASE_URL=postgresql://pocuser:pocpass@postgres:5432/poc_db

# MongoDB Configuration - Connected to single shared instance  
MONGO_INITDB_ROOT_USERNAME=mongoadmin
MONGO_INITDB_ROOT_PASSWORD=mongopass123
MONGO_INITDB_DATABASE=poc_mongo_db
# Internal Docker network connection for app-dev container
MONGODB_URL=mongodb://mongoadmin:mongopass123@mongodb:27017/poc_mongo_db

# Redis Configuration
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=devpass

# ====================================
# OBJECT STORAGE CONFIGURATION
# ====================================

# MinIO Configuration (S3-compatible) - Development instance
MINIO_ROOT_USER=minioadmin
MINIO_ROOT_PASSWORD=minio123dev
MINIO_ENDPOINT=minio:9000
MINIO_ACCESS_KEY=minioadmin
MINIO_SECRET_KEY=minio123dev
MINIO_SECURE=false
MINIO_BUCKET_NAME=v2-dev-storage

# ====================================
# APPLICATION CONFIGURATION
# ====================================

# Application Environment
APP_ENV=development
LOG_LEVEL=DEBUG
DEBUG=true

# JWT Configuration
JWT_SECRET_KEY=dev-jwt-secret-key-not-for-production-2024
JWT_ALGORITHM=HS256
JWT_EXPIRATION_HOURS=24

# CORS Configuration - Permissive for development
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8000,http://localhost:8003,https://pocmaster.argentquest.com,http://api-dev.pocmaster.argentquest.com
ALLOWED_METHODS=GET,POST,PUT,DELETE,OPTIONS,PATCH
ALLOWED_HEADERS=*

# Domain Configuration
DOMAIN_NAME=api-dev.pocmaster.argentquest.com
SSL_EMAIL=dev-admin@argentquest.com

# ====================================
# DEVELOPMENT TOOLS CONFIGURATION
# ====================================

# VS Code Server
VSCODE_PASSWORD=dev123
VSCODE_SUDO_PASSWORD=devsudo123

# Portainer Configuration
PORTAINER_ADMIN_PASSWORD=devportainer123

# ====================================
# WEB UI CREDENTIALS
# ====================================

# pgAdmin Default Login
PGADMIN_DEFAULT_EMAIL=admin@example.com
PGADMIN_DEFAULT_PASSWORD=admin

# Mongo Express Basic Auth
ME_CONFIG_BASICAUTH_USERNAME=admin
ME_CONFIG_BASICAUTH_PASSWORD=admin

# ====================================
# PERFORMANCE & SCALING (Development)
# ====================================

# FastAPI Workers (Development - Single worker for debugging)
GUNICORN_WORKERS=1
GUNICORN_WORKER_CLASS=uvicorn.workers.UvicornWorker
GUNICORN_MAX_REQUESTS=100
GUNICORN_MAX_REQUESTS_JITTER=10

# Database Connection Pools (Lower for development)
POSTGRES_MAX_CONNECTIONS=50
REDIS_MAX_CONNECTIONS=20
MONGODB_MAX_POOL_SIZE=10

# Cache Configuration
CACHE_TTL_SECONDS=300  # 5 minutes for development
CACHE_MAX_SIZE_MB=64

# ====================================
# MONITORING & LOGGING
# ====================================

# Logging Configuration
LOG_FORMAT=text
LOG_FILE_PATH=/app/logs/dev.log
LOG_MAX_SIZE_MB=50
LOG_BACKUP_COUNT=3

# Metrics Collection
ENABLE_METRICS=true
METRICS_PORT=9090
PROMETHEUS_ENABLED=false

# Health Check Configuration
HEALTH_CHECK_INTERVAL=60
HEALTH_CHECK_TIMEOUT=5
HEALTH_CHECK_RETRIES=2

# ====================================
# SECURITY CONFIGURATION
# ====================================

# Rate Limiting (Relaxed for development)
RATE_LIMIT_PER_MINUTE=120
RATE_LIMIT_BURST=50

# API Security
API_KEY_HEADER=X-API-Key
REQUIRE_API_KEY=false

# Session Configuration
SESSION_TIMEOUT_MINUTES=120
SESSION_CLEANUP_INTERVAL=600

# ====================================
# DEVELOPMENT OVERRIDES
# ====================================

# Development-specific settings
DEV_HOT_RELOAD=true
DEV_AUTO_RESTART=true
DEV_DEBUG_SQL=true
DEV_MOCK_AI_RESPONSES=false

# Development Database Features
DEV_DATABASE_ECHO=true  # Log SQL queries
DEV_RESET_DB_ON_START=false
DEV_SEED_DATA=true

# ====================================
# EXTERNAL SERVICES (Development)
# ====================================

# Email Configuration (Dev/Mock)
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=dev@example.com
SMTP_PASSWORD=devpass
SMTP_USE_TLS=false

# Webhook Configuration
WEBHOOK_SECRET=dev-webhook-secret-123
WEBHOOK_ENABLED=true

# ====================================
# AI DEVELOPMENT SETTINGS
# ====================================

# AI Model Testing
AI_TEMPERATURE=0.7
AI_MAX_TOKENS=2000
AI_TOP_P=0.9
AI_FREQUENCY_PENALTY=0.0
AI_PRESENCE_PENALTY=0.0

# RAG Configuration
RAG_CHUNK_SIZE=1000
RAG_CHUNK_OVERLAP=200
RAG_TOP_K_RESULTS=5
RAG_SIMILARITY_THRESHOLD=0.7

# Vector Database Settings
VECTOR_DIMENSION=1024
VECTOR_INDEX_TYPE=ivfflat
VECTOR_INDEX_LISTS=100